{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAASC,SAASC,iBAAiB,SACnCC,EAAYF,SAASG,cAAc,UACzC,IAAIC,EACAC,EACAC,EACAC,EACAC,EACJ,MAAMC,EAAe,CAACJ,EAAYC,EAAOC,GAEzC,SAASG,EAAcC,EAAUC,GAE/B,OADsBC,KAAKC,SAAW,GAE7BC,QAAQC,QAAQ,CACrBL,SAAUA,EACVM,MAAOL,IAGFG,QAAQG,OAAO,CACpBP,SAAUA,EACVM,MAAOL,G,CAKbb,EAAOoB,SAAQ,CAACC,EAAOC,KACrBD,EAAME,iBAAiB,SAAS,KAC9Bb,EAAaY,GAAKE,WAAWH,EAAMI,MAAM,GACzC,IAGJtB,EAAUoB,iBAAiB,SAAUG,KAClCpB,EAAYC,EAAOC,GAAiBE,EACrCgB,EAAMC,iBACFjB,EAAakB,MAAKC,QAA+BC,IAAhBD,IACrC/B,EAAAiC,OAAOC,QAAQ,gCAEbC,YAAW,KACTtB,EAAc,EAAGL,GACd4B,MAAK,EAACtB,SAAEA,EAAUM,MAAAiB,KAAYrC,EAAAiC,OAAOK,QAAQ,uBAAqBxB,QAAiBuB,SAAYE,OAC7F,EAAKzB,WAAUM,MAAOoB,KAAOxC,EAAAiC,OAAMC,QAAC,sBAASpB,QAAgC0B,SAChFjC,EAAE,EACAA,GAAKG,IACPC,EAAkB8B,aAAY,KAC5B5B,EAAcN,EAAGE,GAChB2B,MAAK,EAACtB,SAAEA,EAAUM,MAAAsB,MACjBA,EAAQlC,EAAakC,GAAOnC,EAAE,GAC9BP,EAAAiC,OAAOK,QAAQ,uBAAqBxB,QAAiB4B,MAAU,IAEhEH,OAAM,EAACzB,SAAEA,EAAUM,MAAAuB,MAClBA,EAAQnC,EAAamC,GAAOpC,EAAE,GAC9BP,EAAAiC,OAAOC,QAAQ,sBAAoBpB,QAAe6B,MAAU,IAE9DpC,IACIA,EAAIG,GAAekC,cAAcjC,EAAgB,GACpDF,GAAM,GAEVD,EAAW","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nconst inputs = document.querySelectorAll('input');\nconst createBtn = document.querySelector('button');\nlet i;\nlet firstDelay;\nlet delay;\nlet promiseAmount;\nlet promiseInterval;\nconst chosenValues = [firstDelay, delay, promiseAmount];\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    return Promise.resolve({\n      position: position,\n      delay: delay\n    });\n  } else {\n    return Promise.reject({\n      position: position,\n      delay: delay\n    });\n  }\n}\n\ninputs.forEach((input, i) => {\n  input.addEventListener('input', () => {\n    chosenValues[i] = parseFloat(input.value);\n  })\n})\n\ncreateBtn.addEventListener('click', (event) => {\n  [firstDelay, delay, promiseAmount] = chosenValues;\n  event.preventDefault();\n  if (chosenValues.some(chosenValue => chosenValue === undefined)) {\n  Notify.failure(\"Please fill in all 3 fields!\");\n  } else {\n    setTimeout(() => {\n      createPromise(1, firstDelay)\n        .then(({ position, delay }) => Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`))\n        .catch(({ position, delay }) => Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`));\n      i = 2;\n      if (i <= promiseAmount) {\n        promiseInterval = setInterval(() => {\n          createPromise(i, delay)\n          .then(({ position, delay }) => {\n            delay = firstDelay + delay*(i-2);\n            Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`)\n          })\n          .catch(({ position, delay }) => {\n            delay = firstDelay + delay*(i-2);\n            Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`)\n          });\n          i++;\n          if (i > promiseAmount) clearInterval(promiseInterval);\n        }, delay);\n      }\n    }, firstDelay)\n  }\n})"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$inputs","document","querySelectorAll","$47d4ff9957288465$var$createBtn","querySelector","$47d4ff9957288465$var$i","$47d4ff9957288465$var$firstDelay","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$promiseAmount","$47d4ff9957288465$var$promiseInterval","$47d4ff9957288465$var$chosenValues","$47d4ff9957288465$var$createPromise","position","delay1","Math","random","Promise","resolve","delay","reject","forEach","input","i1","addEventListener","parseFloat","value","event","preventDefault","some","chosenValue","undefined","Notify","failure","setTimeout","then","delay2","success","catch","delay3","setInterval","delay4","delay5","clearInterval"],"version":3,"file":"03-promises.66560f21.js.map"}